<section
  id="card"
  class="relative grid grid-cols-4 grid-rows-5 p-4 mx-5 transition-[transform] duration-150 ease-out cursor-pointer rounded-2xl md:mx-0 shadow-theme_form overflow-clip hover:scale-105 text-lg"
>
  <ng-container *ngIf="user as user">
    <div class="absolute top-0 right-0 z-[1] w-full h-full">
      <div class="relative">
        <svg viewBox="0 0 48 58" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g filter="url(#filter0_d_214_711)">
            <path d="M4 0H44V50L24 35.5L4 50V0Z" fill="#F0F0F3" />
            <path
              d="M23.7065 35.0952L4.5 49.0199V0.5H43.5V49.0199L24.2935 35.0952L24 34.8824L23.7065 35.0952Z"
              stroke="#F0F0F3"
            />
          </g>
          <defs>
            <filter
              id="filter0_d_214_711"
              x="0"
              y="0"
              width="48"
              height="58"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dy="4" />
              <feGaussianBlur stdDeviation="2" />
              <feComposite in2="hardAlpha" operator="out" />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
              />
              <feBlend
                mode="normal"
                in2="BackgroundImageFix"
                result="effect1_dropShadow_214_711"
              />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="effect1_dropShadow_214_711"
                result="shape"
              />
            </filter>
          </defs>
        </svg>
        <div
          class="absolute top-0 left-0 flex flex-col items-center justify-center w-full h-full"
        >
          <span
            class="basis-[100%] flex items-end justify-center text-[1rem] text-primary"
            >{{ user.department }}</span
          >
          <span class="basis-[100%]"></span>
        </div>
      </div>
    </div>
    <div class="img-container">
      <img
        class="object-contain w-full h-full scale-110 rounded-3xl  z-[1] relative transition-all duration-300"
        [src]="imgFunc(user.profileImage)"
        alt=""
      />
    </div>
    <div class="">
      <div class="text-center break-all">
        <h3 class="text-[1.2em] font-bold text-primary">{{ user.fullName }}</h3>
        <p class="text-[.8em] italic">
          {{ [null, ""].includes(user.designation) ? "---" : user.designation }}
        </p>
      </div>
    </div>
    <div class="flex flex-col justify-center px-5 break-all sm:px-0">
      <h4 class="flex items-center gap-2">
        <mat-icon
          class="text-lg md:text-xl"
          color="primary"
          aria-hidden="false"
          aria-label="email address icon"
          >mail</mat-icon
        ><span class="text-[.8em] line-clamp-1">: {{ user.userEmail }}</span>
      </h4>
      <h4 class="flex items-center gap-2">
        <mat-icon
          class="text-lg md:text-xl"
          color="primary"
          aria-hidden="false"
          aria-label="phone number icon"
          >call</mat-icon
        >
        <span class="text-[.8em] line-clamp-1">: {{ user.mobileNo }}</span>
      </h4>
    </div>
    <div class="absolute w-full h-full z-[0] flex flex-col">
      <div id="overlayClip" class="!bg-primary basis-[100%]"></div>
    </div>
  </ng-container>
</section>
